<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fisa.tick3t.repository.UserRepository">
    <!-- [/signup] 회원가입시 User 한명을 Insert하는 쿼리 -->
    <insert id="insertUser" parameterType="UserDto">
        INSERT INTO TCK_USER_M (user_name, user_birth, user_email, user_pwd, fan_cd)
        VALUES (#{userName}, #{userBirth}, #{userEmail}, #{userPwd}, #{fanCd})
    </insert>
    <!-- [signup] 회원가입시 이메일이 중복되는지 체크 -->
    <select id="checkEmail" parameterType="String" resultType="int">
        SELECT count(*)
        from TCK_USER_M
        where user_email = #{userEmail}
    </select>

    <!--  유저 정보를 ID 하나를 선택하는 쿼리-->
    <select id="selectUser" parameterType="int" resultType="UserDto">
        SELECT
            user_name,
            user_email,
            user_birth,
            fan_id
        from TCK_USER_M
        where user_id = ${userId}
    </select>
</mapper>